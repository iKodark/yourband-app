{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Projects\\\\YourBand\\\\yourband-app\\\\node_modules\\\\react-native-root-siblings\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport AppRegistry from \"react-native-web/dist/exports/AppRegistry\";\nimport StaticContainer from \"static-container\";\nimport PropTypes from \"prop-types\";\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});\n\nvar Provider = function (_Component) {\n  _inherits(Provider, _Component);\n\n  var _super = _createSuper(Provider);\n\n  function Provider() {\n    _classCallCheck(this, Provider);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Provider, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        store: this.props.store\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return Provider;\n}(Component);\n\nProvider.childContextTypes = {\n  store: PropTypes.shape({\n    subscribe: PropTypes.func.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    getState: PropTypes.func.isRequired\n  })\n};\n\nfunction RootSiblingsWrapper(props) {\n  return React.createElement(View, {\n    style: styles.container,\n    pointerEvents: \"box-none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, props.children, React.createElement(RootSiblings, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }));\n}\n\n;\n\nif (!global.__rootSiblingsInjected) {\n  AppRegistry.setWrapperComponentProvider(function () {\n    return RootSiblingsWrapper;\n  });\n  global.__rootSiblingsInjected = true;\n}\n\nvar uuid = 0;\nvar triggers = [];\n\nvar RootSiblings = function (_Component2) {\n  _inherits(RootSiblings, _Component2);\n\n  var _super2 = _createSuper(RootSiblings);\n\n  function RootSiblings(props) {\n    var _this;\n\n    _classCallCheck(this, RootSiblings);\n\n    _this = _super2.call(this, props);\n    _this._updatedSiblings = {};\n    _this._siblings = {};\n    _this._stores = {};\n\n    _this._update = function (id, element, callback, store) {\n      var siblings = _objectSpread({}, _this._siblings);\n\n      var stores = _objectSpread({}, _this._stores);\n\n      if (siblings[id] && !element) {\n        delete siblings[id];\n        delete stores[id];\n      } else if (element) {\n        siblings[id] = element;\n        stores[id] = store;\n      }\n\n      _this._updatedSiblings[id] = true;\n      _this._siblings = siblings;\n      _this._stores = stores;\n\n      _this.forceUpdate(callback);\n    };\n\n    _this._siblings = {};\n    triggers.push(_this._update);\n    return _this;\n  }\n\n  _createClass(RootSiblings, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      triggers.splice(triggers.indexOf(this._update), 1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var siblings = this._siblings;\n      var stores = this._stores;\n      var elements = [];\n      Object.keys(siblings).forEach(function (key) {\n        var element = siblings[key];\n\n        if (element) {\n          var sibling = React.createElement(StaticContainer, {\n            key: \"root-sibling-\" + key,\n            shouldUpdate: !!_this2._updatedSiblings[key],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 11\n            }\n          }, element);\n          var store = stores[key];\n\n          if (store) {\n            elements.push(React.createElement(Provider, {\n              store: store,\n              key: \"root-sibling-\" + key + \"-provider\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 13\n              }\n            }, sibling));\n          } else {\n            elements.push(sibling);\n          }\n        }\n      });\n      this._updatedSiblings = {};\n      return elements;\n    }\n  }]);\n\n  return RootSiblings;\n}(Component);\n\nvar RootSiblingManager = function RootSiblingManager(element, callback, store) {\n  _classCallCheck(this, RootSiblingManager);\n\n  var id = uuid++;\n\n  function update(element, callback, store) {\n    triggers.forEach(function (trigger) {\n      trigger(id, element, callback, store);\n    });\n  }\n\n  function destroy(callback) {\n    triggers.forEach(function (trigger) {\n      trigger(id, null, callback);\n    });\n  }\n\n  update(element, callback, store);\n  this.update = update;\n  this.destroy = destroy;\n};\n\nexport { RootSiblingManager as default };","map":{"version":3,"sources":["C:/Projects/YourBand/yourband-app/node_modules/react-native-root-siblings/index.js"],"names":["React","Component","StaticContainer","PropTypes","styles","StyleSheet","create","container","flex","Provider","store","props","children","childContextTypes","shape","subscribe","func","isRequired","dispatch","getState","RootSiblingsWrapper","global","__rootSiblingsInjected","AppRegistry","setWrapperComponentProvider","uuid","triggers","RootSiblings","_updatedSiblings","_siblings","_stores","_update","id","element","callback","siblings","stores","forceUpdate","push","splice","indexOf","elements","Object","keys","forEach","key","sibling","RootSiblingManager","update","trigger","destroy"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { StyleSheet, View, AppRegistry } from \"react-native\";\nimport StaticContainer from \"static-container\";\nimport PropTypes from \"prop-types\";\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});\n\nclass Provider extends Component {\n  static childContextTypes = {\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    })\n  };\n\n  getChildContext() {\n    return { store: this.props.store };\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nfunction RootSiblingsWrapper(props) {\n  return (\n    <View style={styles.container} pointerEvents=\"box-none\">\n      {props.children}\n      <RootSiblings />\n    </View>\n  );\n};\n\nif (!global.__rootSiblingsInjected) {\n  AppRegistry.setWrapperComponentProvider(function() {\n    return RootSiblingsWrapper;\n  });\n  global.__rootSiblingsInjected = true;\n}\n\nlet uuid = 0;\nconst triggers = [];\nclass RootSiblings extends Component {\n  _updatedSiblings = {};\n  _siblings = {};\n  _stores = {};\n\n  constructor(props) {\n    super(props);\n    this._siblings = {};\n    triggers.push(this._update);\n  }\n\n  componentWillUnmount() {\n    triggers.splice(triggers.indexOf(this._update), 1);\n  }\n\n  _update = (id, element, callback, store) => {\n    const siblings = { ...this._siblings };\n    const stores = { ...this._stores };\n    if (siblings[id] && !element) {\n      delete siblings[id];\n      delete stores[id];\n    } else if (element) {\n      siblings[id] = element;\n      stores[id] = store;\n    }\n    this._updatedSiblings[id] = true;\n    this._siblings = siblings;\n    this._stores = stores;\n    this.forceUpdate(callback);\n  };\n\n  render() {\n    const siblings = this._siblings;\n    const stores = this._stores;\n    const elements = [];\n    Object.keys(siblings).forEach(key => {\n      const element = siblings[key];\n      if (element) {\n        const sibling = (\n          <StaticContainer\n            key={`root-sibling-${key}`}\n            shouldUpdate={!!this._updatedSiblings[key]}\n          >\n            {element}\n          </StaticContainer>\n        );\n\n        const store = stores[key];\n        if (store) {\n          elements.push(\n            <Provider store={store} key={`root-sibling-${key}-provider`}>\n              {sibling}\n            </Provider>\n          );\n        } else {\n          elements.push(sibling);\n        }\n      }\n    });\n    this._updatedSiblings = {};\n    return elements;\n  }\n}\n\nexport default class RootSiblingManager {\n  constructor(element, callback, store) {\n    const id = uuid++;\n    function update(element, callback, store) {\n      triggers.forEach(function(trigger) {\n        trigger(id, element, callback, store);\n      });\n    }\n\n    function destroy(callback) {\n      triggers.forEach(function(trigger) {\n        trigger(id, null, callback);\n      });\n    }\n\n    update(element, callback, store);\n    this.update = update;\n    this.destroy = destroy;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}